@baseUrl = http://localhost:3002/api
@email_student = student@example.com
@password_student = 123
@email_admin = admin@example.com
@password_admin = week12-pass

### 1. 未登入被拒 (Unauthorized)
POST {{baseUrl}}/participants
Content-Type: application/json

{
    "name": "Test Unauth",
    "phone": "0912345678"
}

### 2. 登入成功 (Login Success - Student)
# @name loginStudent
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "{{email_student}}",
    "password": "{{password_student}}"
}

@tokenStudent = {{loginStudent.response.body.token}}

### 3. 登入成功 (Login Success - Admin)
# @name loginAdmin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "{{email_admin}}",
    "password": "{{password_admin}}"
}

@tokenAdmin = {{loginAdmin.response.body.token}}

### 4. Admin 建立資料 (為了測試權限不足)
# @name createAdmin
POST {{baseUrl}}/participants
Content-Type: application/json
Authorization: Bearer {{tokenAdmin}}

{
    "name": "Admin Data",
    "phone": "0900000000"
}

@id_admin_data = {{createAdmin.response.body._id}}

### 5. 權限不足 (Forbidden - Student 嘗試刪除 Admin 的資料)
DELETE {{baseUrl}}/participants/{{id_admin_data}}
Authorization: Bearer {{tokenStudent}}

### 6. Student 建立資料 (為了測試刪除成功)
# @name createStudent
POST {{baseUrl}}/participants
Content-Type: application/json
Authorization: Bearer {{tokenStudent}}

{
    "name": "Student Data",
    "phone": "0988888888"
}

@id_student_data = {{createStudent.response.body._id}}

### 7. 刪除成功 (Delete Success - Student 刪除自己的資料)
DELETE {{baseUrl}}/participants/{{id_student_data}}
Authorization: Bearer {{tokenStudent}}